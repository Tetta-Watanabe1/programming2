<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>プログラミングII演習課題の手引き 2_3_average_function</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href=".README.css" />
  <script
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"
  type="text/javascript"></script>
</head>
<body>
<header id="title-block-header">
<h1 class="title">プログラミングII演習課題の手引き<br />
2_3_average_function</h1>
</header>
<h1 data-number="1" id="説明"><span
class="header-section-number">1</span> 説明</h1>
<p><code>float</code>型配列<code>a[]</code>と配列の大きさ<code>n</code>を引数にとり，配列要素の平均値を返す
<code>float average(float a[], int n)</code>関数を書け．<code>main</code>関数は書き換えないこと．</p>
<p> <strong><code>average</code>関数の引数：</strong></p>
<ul>
<li>第1引数：<code>float</code>型の配列<code>a[]</code>．配列の要素数は<code>n</code>以上．</li>
<li>第2引数：整数<code>n</code>．</li>
</ul>
<p> <strong><code>average</code>関数の戻り値：</strong></p>
<ul>
<li><code>a[0]</code>，<code>a[1]</code>，<span
class="math inline">\(\ldots\)</span>，<code>a[n-1]</code>の平均を<code>float型</code>で返す．</li>
</ul>
<p> <strong>コンパイル：</strong></p>
<pre><code>    $ gcc -o average_function average_function.c</code></pre>
<h1 data-number="2" id="testlist"><span
class="header-section-number">2</span> テスト一覧</h1>
<p>テスト番号: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10</p>
<p>（1行が長い場合にブラウザでは複数行に分けて表示される場合あるので注意すること）</p>
<p><strong>テスト1</strong></p>
<p>コマンドライン</p>
<pre><code>$ ./average_function</code></pre>
<p>入力</p>
<pre><code>9   
1.0 2.0 3.0 4.0 5.0 6.0 7.0 8.0 9.0</code></pre>
<p>出力</p>
<pre><code>5.000</code></pre>
<p><strong>テスト2</strong></p>
<p>コマンドライン</p>
<pre><code>$ ./average_function</code></pre>
<p>入力</p>
<pre><code>2
0.80817 0.32264</code></pre>
<p>出力</p>
<pre><code>0.565</code></pre>
<p><strong>テスト3</strong></p>
<p>コマンドライン</p>
<pre><code>$ ./average_function</code></pre>
<p>入力</p>
<pre><code>4
0.185748966526 0.32415795911 0.825689568236 0.371623309603</code></pre>
<p>出力</p>
<pre><code>0.427</code></pre>
<p><strong>テスト4</strong></p>
<p>コマンドライン</p>
<pre><code>$ ./average_function</code></pre>
<p>入力</p>
<pre><code>100
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100</code></pre>
<p>出力</p>
<pre><code>50.500</code></pre>
<p><strong>テスト5</strong></p>
<p>コマンドライン</p>
<pre><code>$ ./average_function</code></pre>
<p>入力</p>
<pre><code>1
10</code></pre>
<p>出力</p>
<pre><code>10.000</code></pre>
<p><strong>テスト6</strong></p>
<p>コマンドライン</p>
<pre><code>$ ./average_function</code></pre>
<p>入力</p>
<pre><code>10
19 10 9 14 5 7 10 8 9 11</code></pre>
<p>出力</p>
<pre><code>10.200</code></pre>
<p><strong>テスト7</strong></p>
<p>コマンドライン</p>
<pre><code>$ ./average_function</code></pre>
<p>入力</p>
<pre><code>50
23 43 26 53 50 31 46 9 17 43 36 41 17 34 5 37 38 4 26 11 20 17 1 29 26 17 8 6 29 5 30 0 10 26 14 10 20 14 0 16 20 14 8 0 4 2 13 6 11 8</code></pre>
<p>出力</p>
<pre><code>19.480</code></pre>
<p><strong>テスト8</strong></p>
<p>コマンドライン</p>
<pre><code>$ ./average_function</code></pre>
<p>入力</p>
<pre><code>80
48 23 87 49 69 40 68 62 19 24 1 25 71 24 13 34 1 72 26 60 61 43 11 47 31 45 27 51 34 0 6 53 38 1 8 55 18 3 14 0 11 20 14 22 44 0 37 9 41 28 32 26 20 25 29 31 17 15 7 29 15 13 13 3 4 7 21 6 11 8 17 18 3 7 2 9 10 5 8 9</code></pre>
<p>出力</p>
<pre><code>25.100</code></pre>
<p><strong>テスト9</strong></p>
<p>コマンドライン</p>
<pre><code>$ ./average_function</code></pre>
<p>入力</p>
<pre><code>50
1.8688189339447 2.647334179981788 1.028575121901502 4.526346094354112 1.828900861691386 0.326241249375208 6.78736439257097 2.049899524888538 2.60173177696013 8.02199556043522 2.40472827722369 0.0340734799101 0.421435134849022 9.129981349449736 7.51146892504756 0.30764444346638 4.86917523396128 7.774449588661515 6.716538870253558 0.063653230905594 3.7483041709459 9.92937735271957 9.948361206897758 1.511958987908352 9.332302856306423 5.733908216539213 3.061591388082235 1.130097916040214 9.025396717925013 8.578616652887796 7.801151921417485 5.087233714126924 4.452551287702082 1.395788061526746 4.925392579785736 4.51590859817902 5.703126275029145 0.218045679766956 6.805882577152552 3.98239554759829 2.626084360248534 1.35444924318004 4.47294237372387 5.474544808965703 7.918223984312615 1.390678577591478 1.830360014691124 9.251782889119646 7.021145386631645 4.3776272569473</code></pre>
<p>出力</p>
<pre><code>4.471</code></pre>
<p><strong>テスト10</strong></p>
<p>コマンドライン</p>
<pre><code>$ ./average_function</code></pre>
<p>入力</p>
<pre><code>100
22 12 38 55 77 81 89 62 72 103 28 58 163 58 200 144 190 70 115 22 191 259 176 208 273 185 204 143 23 160 26 355 118 426 244 416 322 228 155 103 385 452 336 474 303 467 248 541 504 10 207 389 69 459 172 688 496 480 182 433 149 305 54 452 58 145 89 136 663 755 664 119 598 64 207 289 264 756 543 203 446 143 625 589 639 356 980 96 702 780 73 1066 902 68 166 136 603 672 548 901</code></pre>
<p>出力</p>
<pre><code>301.730</code></pre>
<h1 data-number="3" id="配布ファイル"><span
class="header-section-number">3</span> 配布ファイル</h1>
<p>ファイル名: average_function.c</p>
<pre><code>/**

氏名: 

学生番号: 

作成日: 

入出力の説明: 

動きの説明: 

感想: 

*/
#include &lt;stdio.h&gt;
#define MAX 100

// ここにaverage関数を書く（関数を定義する）．

int main() {
  int num, i;
  float array[MAX], ave;

  scanf(&quot;%d&quot;, &amp;num);
  if (num &lt;= MAX) {
    for (i = 0; i &lt; num; i++) {
      scanf(&quot;%f&quot;, &amp;array[i]);
    }
    ave = average(array, num);
    printf(&quot;%.3f\n&quot;, ave);
  }
  return 0;
}

/*
  余談：

  ここ（main関数より後ろ）にaverage関数を移動してみよう．average関数が
  見つからないというコンパイルエラーになる．次のようなaverage関数の宣
  言（プロトタイプ宣言という）をmain関数の前に書くことでコンパイルエラー
  がなくなる．

  戻り値の型 average(引数);

  プロトタイプ宣言はプログラミングIIIで学習する．
  明快入門C 54 関数プロトタイプ
*/</code></pre>
<h1 data-number="4" id="ヒント"><span
class="header-section-number">4</span> ヒント</h1>
<ul>
<li><p>明快入門Cの第7章が関数．そのうち特にこの課題と関係するのは，52
関数の基本形，53 関数の構成，55 関数への引数渡し1 数値，56
関数への引数渡し2 配列，58 ローカル変数とグローバル変数．</p></li>
<li><p><code>average</code>関数は配列を第1引数にとる．配列を関数に渡す方法は明快入門C
の 56
関数への引数に詳しい説明がある．配列を引数にする場合は<code>float average(float a[], int n)</code>のように関数を宣言する．配列の要素数は省略できる（2次元以上の配列の場合は2次元目以降の要素数を書く必要がある）．<code>average</code>関数内でこの配列要素を使うには<code>a[1]</code>や<code>a[n-1]</code>のように書く．宣言部の引数<code>a[]</code>や<code>n</code>は
<strong>仮引数</strong>と呼ばれる．</p></li>
<li><p><code>average</code>関数の仮引数名（<code>a</code>と<code>n</code>）は他の名前でもよい．<code>main</code>関数から呼び出すときに与える引数（<strong>実引数</strong>
と呼ばれる）の名前（<code>array</code>と
<code>num</code>）と，仮引数の名前（<code>a</code>と<code>n</code>）は無関係である．仮引数にも同じ名前（<code>array</code>と<code>num</code>）を使うことが多いが，名前が同じでも実体は異なることに注意．</p></li>
<li><p><strong>変数のスコープ：</strong>
異なる関数に同名の変数が宣言されていても，それらは別の変数である．変数の有効範囲をスコープと呼ぶ．例えば，<code>main</code>関数内の変数<code>num</code>や<code>i</code>，配列<code>array[]</code>，変数<code>ave</code>などの
<strong>名前</strong> を
<code>average</code>関数内で使うことはできない．<code>array[]</code>や<code>num</code>の
<strong>値</strong> を
<code>average</code>関数で使いたい場合は，この課題のように<code>average</code>関数の実引数として<code>array</code>，<code>num</code>を渡す．</p></li>
<li><p><strong>配列を引数にする場合</strong>
に，仮引数（宣言側）には<code>a[]</code>のように配列名に<code>[]</code>を付けるが，実引数（呼び出し側）には<code>array</code>のように配列名だけを書くことに注意．<code>array</code>がポインタであることは「ポインタ」で学ぶ．</p></li>
<li><p><code>#define MAX 100</code>以降の行の<code>MAX</code>は100に置き換えられる．つまり，「<code>float a[MAX];</code>」は「<code>float a[100];</code>」に書き換えてからコンパイルされる．「<code>n &lt;= MAX</code>」は「<code>n &lt;= 100</code>」に書き換えられる．同じ定数が何度も現れる場合には，<code>#define</code>を使って定数を定義すると読みやすいプログラムになる．<code>MAX</code>の置き換えはコンパイル時に行われ，実行時に置き換えられるわけではないことに注意．</p></li>
<li><p>（復習）配列の添字は0から要素数-1まで．<code>a[1]</code>の<code>1</code>の部分を添字と呼ぶ．範囲外の添字を使って，配列要素に代入すると，他の変数に1が代入されることもある．そのようになると，謎の動作をすることになり，バグとりが大変．（バグとりとは不具合を取り除くこと）</p>
<pre><code>int a[10];
a[0] = 1; // ある
a[1] = 1; // ある
a[9] = 1; // ある
a[10] = 1; // ない．コンパイル時も実行時も教えてくれない．</code></pre></li>
</ul>
</body>
</html>
