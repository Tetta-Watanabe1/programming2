<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>プログラミングII演習課題の手引き 1_6_sudoku_array</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href=".README.css" />
  <script
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"
  type="text/javascript"></script>
</head>
<body>
<header id="title-block-header">
<h1 class="title">プログラミングII演習課題の手引き<br />
1_6_sudoku_array</h1>
</header>
<h1 data-number="1" id="説明"><span
class="header-section-number">1</span> 説明</h1>
<p>配列<code>int grid[9][9]</code>に格納された数独の盤面を出力せよ．</p>
<p> <strong>入力：</strong>なし</p>
<p> <strong>出力：</strong></p>
<ul>
<li>テスト1に示すように3 <span class="math inline">\(\times\)</span>
3ブロックの縁を <code>+-|</code> で囲んで，13行で表す．</li>
<li>配列要素が0のマスは空白にする．</li>
</ul>
<p> <strong>補足：</strong></p>
<p>どこから作ればいいのかわかない人や，途中まで作ったけどわからなくなった人は
<strong>ヒント</strong> の手順に沿いなさい．</p>
<p> <strong>数独のルール：</strong></p>
<ul>
<li><p>タテ9列，ヨコ9行，3 <span class="math inline">\(\times\)</span>
3の9つあるブロックのどれにも，1から9までの数字が一つずつ入るように空きマスに数字を入れる．</p></li>
<li><p>詳しくは以下のページで確認してください．なお「数独(SUDOKU)」はニコリの登録商標です．</p>
<p><a
href="http://nikoli.co.jp/ja/puzzles/sudoku/">http://nikoli.co.jp/ja/puzzles/sudoku/</a>
(和文)</p>
<p><a
href="http://nikoli.co.jp/en/puzzles/sudoku/">http://nikoli.co.jp/en/puzzles/sudoku/</a>
(英文)</p></li>
<li><p>参考：数独の空きマスの最大数に関する論文．</p>
<p>Gary McGuire, Bastian Tugemann, and Gilles Civario, “There is no
16-Clue Sudoku: Solving the Sudoku Minimum Number of Clues Problem via
Hitting Set Enumeration,” Journal of Experimental Mathematics, vol. 23,
no. 2, Taylor &amp; Franscis, Aug. 2013. <a
href="https://doi.org/10.1080/10586458.2013.870056">https://doi.org/10.1080/10586458.2013.870056</a>
<a
href="https://arxiv.org/pdf/1201.0749.pdf">https://arxiv.org/pdf/1201.0749.pdf</a></p></li>
</ul>
<p> <strong>コンパイル：</strong></p>
<pre><code>    $ gcc -Wall -o sudoku_array sudoku_array.c
    </code></pre>
<h1 data-number="2" id="testlist"><span
class="header-section-number">2</span> テスト一覧</h1>
<p>テスト番号: 1</p>
<p>（1行が長い場合にブラウザでは複数行に分けて表示される場合あるので注意すること）</p>
<p><strong>テスト1</strong></p>
<p>コマンドライン</p>
<pre><code>$ ./sudoku_array</code></pre>
<p>入力</p>
<p>出力</p>
<pre><code>+---+---+---+
| 23|456|789|
|4 6|789|1 3|
|78 |123|456|
+---+---+---+
|234|5 7|89 |
|567| 91|234|
|891|23 |567|
+---+---+---+
|345|678|91 |
|678|9 2| 45|
|91 |345|6 8|
+---+---+---+</code></pre>
<h1 data-number="3" id="配布ファイル"><span
class="header-section-number">3</span> 配布ファイル</h1>
<p>ファイル名: sudoku_array.c</p>
<pre><code>/**

氏名: 

学生番号: 

作成日: 

入出力の説明: 

動きの説明: 

感想: 

*/
#include &lt;stdio.h&gt;

int main() {
  int grid[9][9] = {
    {0, 2, 3, 4, 5, 6, 7, 8, 9}, // 0行目の0列目から8列目
    {4, 0, 6, 7, 8, 9, 1, 0, 3},
    {7, 8, 0, 1, 2, 3, 4, 5, 6},
    {2, 3, 4, 5, 0, 7, 8, 9, 0},
    {5, 6, 7, 0, 9, 1, 2, 3, 4},
    {8, 9, 1, 2, 3, 0, 5, 6, 7},
    {3, 4, 5, 6, 7, 8, 9, 1, 0},
    {6, 7, 8, 9, 0, 2, 0, 4, 5},
    {9, 1, 0, 3, 4, 5, 6, 0, 8}}; // 8行目

  int i, j; // i:行番号，j:列番号

  return 0;
}</code></pre>
<h1 data-number="4" id="ヒント"><span
class="header-section-number">4</span> ヒント</h1>
<ul>
<li><p>どこから作ればいいのかわかない場合や，途中まで作ったけどわからなくなった場合は，めんどくさがらずに以下の手順
[A] から [G] に沿って作成しなさい．[A] から [G] の出力は次の通り．</p>
<pre><code>          [A]         [B]           [C]
                      +---------+   +---------+
          023456789   |023456789|   |023456789|
          406789103   |406789103|   |406789103|
          780123456   |780123456|   |780123456|
          234507890   |234507890|   +---------+
          567091234   |567091234|   |234507890|
          891230567   |891230567|   |567091234|
          345678910   |345678910|   |891230567|
          678902045   |678902045|   +---------+
          910345608   |910345608|   |345678910|
                      +---------+   |678902045|
                                    |910345608|
                                    +---------+

          [D]             [E]             [F]             [G]
          |012|345|678|   | 12|345|678|   +---+---+---+   +---+---+---+
                                          | 23|456|789|   | 23|456|789|
                                          |4 6|789|1 3|   |4 6|789|1 3|
                                          |78 |123|456|   |78 |123|456|
                                          |234|5 7|89 |   +---+---+---+
                                          |567| 91|234|   |234|5 7|89 |
                                          |891|23 |567|   |567| 91|234|
                                          |345|678|91 |   |891|23 |567|
                                          |678|9 2| 45|   +---+---+---+
                                          |91 |345|6 8|   |345|678|91 |
                                          +---+---+---+   |678|9 2| 45|
                                                          |91 |345|6 8|
                                                          +---+---+---+</code></pre></li>
<li><p>[A]
まず，配列<code>grid[9][9]</code>の各要素の値を出力して，次の出力になるプログラムをa.cファイルに作ってください．枠や0を空白に変換する部分は後で考えることにします．</p>
<pre><code>          023456789
          406789103
          780123456
          234507890
          567091234
          891230567
          345678910
          678902045
          910345608</code></pre>
<p>次のように<code>printf</code>文を並べて順番に出力してもよいですが，<code>for</code>文を使った方が短くかけます．プログラミングIの単位を取れている人は<code>for</code>文が使えるはずです．単位を取れていない人もこの機会に<code>for</code>文を使えるようになりましょう．</p>
<pre><code>  // grid[0][0]を出力する．printf(&quot;%d&quot;, grid[0][0]);
  // grid[0][1]を出力する
  // grid[0][2]を出力する
  // grid[0][3]を出力する
  // grid[0][4]を出力する
  // grid[0][5]を出力する
  // grid[0][6]を出力する
  // grid[0][7]を出力する
  // grid[0][8]を出力する
  // 改行文字を出力する．printf(&quot;\n&quot;);
  // grid[1][0]を出力する
  // 以下略（改行文字を含め90文字出力）</code></pre>
<p>次のように<code>for</code>文を二重にして，<code>printf("%d")</code>を使うとできるでしょう．
<code>for</code>文の丸括弧の内側や，出力の部分はC言語に書き直してください．</p>
<pre><code>  int i, j; // i:縦，j:横
  for (iを0からはじめて1ずつ増やし，9回繰り返す) { // 行（縦方向）
    for (jを0からはじめて1ずつ増やし，9回繰り返す) { // 列（横方向）
      // grid[i][j]を出力する
    }
    // 改行文字を出力する
  }</code></pre></li>
<li><p>[B]
その後，外に枠をつけて次の出力になるプログラムをb.cファイルに作ってください．</p>
<pre><code>          +---------+
          |023456789|
          |406789103|
          |780123456|
          |234507890|
          |567091234|
          |891230567|
          |345678910|
          |678902045|
          |910345608|
          +---------+</code></pre>
<p>次の4つを<code>for</code>文のどこで出力するとよいかよく考えましょう．</p>
<pre><code>  // 1. 上の線 +---------+
  // 2. 左の線 |          
  // 3. 右の線           |
  // 4. 下の線 +---------+

  printf(&quot;+---------+\n&quot;) // 1と4
  printf(&quot;|&quot;);            // 2と3</code></pre></li>
<li><p>[C]
さらに3行おきに横線を追加し次の出力をするプログラムをc.cファイルに作ってください．右端の0から8は出力しなくて構いません．説明のために付けた行番号です．</p>
<pre><code>          +---------+
          |023456789| 0
          |406789103| 1
          |780123456| 2
          +---------+
          |234507890| 3
          |567091234| 4
          |891230567| 5
          +---------+
          |345678910| 6
          |678902045| 7
          |910345608| 8
          +---------+</code></pre>
<p>右端の行番号をみながら，横線を出力する行を考えてください．横線は4本あります．この4本について，次の二つのうちあなたが理解しやすい方をプログラムにしましょう．</p>
<ul>
<li>最後に横線1本，つまり8行目の後に横線．残り3本は0,3,6行目の前にそれぞれ1本ずつ．</li>
<li>最初に横線1本，つまり0行目の前に横線．残り3本は2,5,8行目の後にそれぞれ1本ずつ．</li>
</ul>
<p>前者の場合</p>
<pre><code>  for (iを0から8まで1ずつ増やしながら，9回繰り返す) { //  行
    // iが0,3,6のときに横線を出力する
    for (jを0から8まで1ずつ増やしながら，9回繰り返す) { // 列（横方向）
    }
  }
  // 最後の横線を出力する</code></pre>
<p>後者の場合</p>
<pre><code>  // 最初の横線を出力する
  for (iを0から8まで1ずつ増やしながら，9回繰り返す) { //  行
    for (jを0から8まで1ずつ増やしながら，9回繰り返す) { // 列（横方向）
    }
    // iが2,5,8のときに横線を出力する
  }</code></pre></li>
<li><p>[D]
ここで一旦，注目する場所を変えます．1行だけ出力するのですが，次のように縦棒を加えるところに注目します．この1行だけ出力するプログラムをd.cファイルに作ってください．</p>
<pre><code>          |012|345|678|</code></pre>
<p>1行だけなので次のように別の配列<code>row[9]</code>に出力する値を入れてd.cを作ります．</p>
<pre><code>  int row[9] = {0, 1, 2, 3, 4, 5, 6, 7, 8}; // 出力する値の入った9つの配列
  // 縦棒を出力する．　 printf(&quot;|&quot;);
  // row[0]を出力する．printf(&quot;%d&quot;, row[0]);
  // row[1]を出力する
  // row[2]を出力する
  // 縦棒を出力する．
  // row[3]を出力する
  // row[4]を出力する
  // row[5]を出力する
  // 縦棒を出力する．
  // row[6]を出力する
  // row[7]を出力する
  // row[8]を出力する
  // 縦棒を出力する．</code></pre>
<p>縦棒を一旦忘れて，<code>row[0]</code>から<code>row[8]</code>まで出力する部分を，<code>for</code>文を使って次のようにまとめます．</p>
<pre><code>  int j;
  for (jを0から8まで1ずつ増やしながら，9回繰り返す) {
    // row[j]を出力する
  }</code></pre>
<p>先ほどの横線と同じように，縦線<code>|</code>を出力するタイミングをよく考えてください．縦線は4本あります．この4本について，次の二つのうちあなたが理解しやすい方をプログラムにしましょう．</p>
<ul>
<li>最後に縦線1本，つまり8の後に1本．残り3本は0,3,6の前にそれぞれ1本ずつ．</li>
<li>最初に縦線1本，つまり0の前に1本．残り3本は2,5,8の後にそれぞれ1本ずつ．</li>
</ul>
<p>前者の場合</p>
<pre><code>  int row[9] = {0, 1, 2, 3, 4, 5, 6, 7, 8};
  int j;
  for (jを0から8まで1ずつ増やしながら，9回繰り返す) {
    // jが0,3,6のときに縦線を出力する
    // row[j]を出力する
  }
  // 最後の縦線を出力する</code></pre>
<p>後者の場合</p>
<pre><code>  int row[9] = {0, 1, 2, 3, 4, 5, 6, 7, 8};
  int j;
  // 最初の縦線を出力する
  for (jを0から8まで1ずつ増やしながら，9回繰り返す) {
    // row[j]を出力する
    // jが2,5,8のときに縦線を出力する
  }</code></pre></li>
<li><p>[E]
d.cでは0が出力されていました．次のように値が0のところは空白にするプログラムをe.cに作ってください．</p>
<pre><code>          | 12|345|678|

  int row[9] = {0, 1, 2, 3, 4, 5, 6, 7, 8}; // 出力する値の入った9つの配列
  for (jを0から8まで1ずつ増やしながら，9回繰り返す) {
    // row[j]が0なら空白文字を出力する．0でなければrow[j]を出力する．
  }</code></pre>
<p>0か否かで場合わけしている部分は次のように書きます．</p>
<pre><code>  // row[j]が0なら空白文字を出力する．0でなければrow[j]を出力する．
  if (row[j] == 0) {
    // 空白文字を出力
  } else {
    // row[j]を出力
  }</code></pre>
<p>0の要素が他のところにある次のような他の配列rowでも試してみましょう．</p>
<pre><code>  int row[9] = {0, 1, 0, 3, 0, 5, 0, 7, 0}; // 出力する値の入った9つの配列        
  int row[9] = {9, 0, 2, 0, 4, 0, 6, 0, 8}; // 出力する値の入った9つの配列        </code></pre>
<p><code>if</code>文を次のように使ってはならない．二つ目の<code>if</code>文の条件が必ず真になるので，二つ目の<code>if</code>文が無駄である．<code>else</code>節は条件を満たさないときに実行されるので<code>row[j]</code>は0ではないことを確認するまでもない．</p>
<pre><code>  if (row[j] == 0) {
    // 空白文字を出力
  } else if (row[j] != 0) {
    // row[j]を出力
  }</code></pre></li>
<li><p>e.cで1行だけですが，0を空白にして縦線が4本出力されるようになりました．次はようやく9行出力するプログラムに戻ります．</p></li>
<li><p>[F]
f.cに次の出力をするプログラムを作成しましょう．[B]で作成したb.c
を元にして，e.cと同様に縦線を出力し0を空白にしましょう．e.cが1次元配列<code>row</code>を使っているのに対して，b.cが2次元配列<code>grid</code>を使っていることに注意しなさい．横線が2文字のびます．</p>
<pre><code>          +---+---+---+
          | 23|456|789|
          |4 6|789|1 3|
          |78 |123|456|
          |234|5 7|89 |
          |567| 91|234|
          |891|23 |567|
          |345|678|91 |
          |678|9 2| 45|
          |91 |345|6 8|
          +---+---+---+</code></pre></li>
<li><p>[G]
g.cに次の出力をするプログラムを作成しましょう．[C]で作成したc.c
を元にして，e.cと同様に縦線を出力し0を空白にしましょう．</p>
<pre><code>          +---+---+---+
          | 23|456|789|
          |4 6|789|1 3|
          |78 |123|456|
          +---+---+---+
          |234|5 7|89 |
          |567| 91|234|
          |891|23 |567|
          +---+---+---+
          |345|678|91 |
          |678|9 2| 45|
          |91 |345|6 8|
          +---+---+---+</code></pre></li>
<li><p>完成です．g.cと同じプログラムをsudoku_array.cに書き写しましょう．</p></li>
</ul>
</body>
</html>
